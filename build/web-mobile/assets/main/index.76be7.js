window.__require=function t(e,o,r){function n(i,s){if(!o[i]){if(!e[i]){var p=i.split("/");if(p=p[p.length-1],!e[p]){var a="function"==typeof __require&&__require;if(!s&&a)return a(p,!0);if(c)return c(p,!0);throw new Error("Cannot find module '"+i+"'")}i=p}var h=o[i]={exports:{}};e[i][0].call(h.exports,function(t){return n(e[i][1][t]||t)},h,h.exports,t,e,o,r)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({Babala:[function(t,e,o){"use strict";cc._RF.push(e,"a1cffX05ChBnZJzSxJVb9Tq","Babala");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,p=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jumpHeight=0,e.jumpDuration=0,e.maxMoveSpeed=0,e.accel=0,e.Button=null,e.label=null,e.score=0,e.left=!1,e.right=!1,e.jumpEnd=!1,e.xSpeed=0,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.left&&this.backward(t),this.right&&this.forward(t)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKey,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onKey=function(t){switch(t.keyCode){case cc.macro.KEY.w:case cc.macro.KEY.up:case cc.macro.KEY.space:this.jumpAction();break;case cc.macro.KEY.left:case cc.macro.KEY.a:this.left=!0;break;case cc.macro.KEY.d:case cc.macro.KEY.right:this.right=!0}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.w:case cc.macro.KEY.up:case cc.macro.KEY.space:break;case cc.macro.KEY.left:this.left=!1,this.xSpeed=0;break;case cc.macro.KEY.a:this.left=!1;break;case cc.macro.KEY.d:this.right=!1;break;case cc.macro.KEY.right:this.right=!1,this.xSpeed=0}},e.prototype.jumpAction=function(){var t=this;if(this.jumpEnd)return!1;this.jumpEnd=!0;var e=cc.tween().to(this.jumpDuration,{y:this.jumpHeight},{easing:"sineOut"}),o=cc.tween().to(this.jumpDuration,{y:-220},{easing:"sineOut"}),r=cc.tween().sequence(e,o).call(function(){t.jumpEnd=!1});cc.tween(this.node).then(r).start()},e.prototype.forward=function(t){this.xSpeed-=this.accel*t,this.move(t)},e.prototype.backward=function(t){this.xSpeed+=this.accel*t,this.move(t)},e.prototype.move=function(t){this.right&&(this.score+=1e3*t,this.label.string="\u5f53\u524d\u5206\u6570:"+this.score.toFixed(0)),Math.abs(this.xSpeed)>this.maxMoveSpeed&&(this.xSpeed=this.maxMoveSpeed*this.xSpeed/Math.abs(this.xSpeed)),this.left&&this.node.x>-430&&(this.node.x-=this.xSpeed*t),this.right&&this.node.x<-100&&(this.node.x-=this.xSpeed*t)},e.prototype.stopMove=function(){this.jumpEnd=!1,this.left=!1,this.right=!1,this.node.stopAllActions(),this.Button.node.opacity=255,cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKey,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.play=function(){this.label.string="\u5f53\u524d\u5206\u6570:0",this.Button.node.opacity=0,this.node.x=-400,this.node.y=-220,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKey,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},c([p()],e.prototype,"jumpHeight",void 0),c([p()],e.prototype,"jumpDuration",void 0),c([p()],e.prototype,"maxMoveSpeed",void 0),c([p()],e.prototype,"accel",void 0),c([p(cc.Button)],e.prototype,"Button",void 0),c([p(cc.Label)],e.prototype,"label",void 0),c([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"80d3c9sPJBIz6W2QJSl3HvT","Game");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,p=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg1=null,e.bg2=null,e.babala=null,e.slm=null,e.triggerX=0,e.currSlm=null,e}return n(e,t),e.prototype.onLoad=function(){this.triggerX=-this.bg1.width},e.prototype.start=function(){},e.prototype.update=function(t){this.bgMove(t)},e.prototype.bgMove=function(t){var e=this.babala.getComponent("Babala"),o=e.xSpeed,r=e.left,n=e.right;(r||n)&&(this.bg1.x+=o*t,this.bg2.x+=o*t,this.currSlmSet(o*t)),this.bg1.x<=this.triggerX&&(this.bg1.x=this.bg2.x+this.bg1.width),this.bg2.x<=this.triggerX&&(this.bg2.x=this.bg1.x+this.bg1.width),this.bg1.x>=-this.triggerX&&(this.bg1.x=this.bg2.x-this.bg1.width),this.bg2.x>=-this.triggerX&&(this.bg2.x=this.bg1.x-this.bg1.width)},e.prototype.newSlm=function(){var t=cc.instantiate(this.slm),e=this.babala.y;this.node.addChild(t),t.getComponent("Slm").game=this,t.setPosition(cc.v2(600,e+50*(Math.random()+.2))),this.currSlm=t},e.prototype.currSlmSet=function(t){this.currSlm&&(this.currSlm.setPosition(cc.v2(this.currSlm.x+t,this.currSlm.y)),this.currSlm.x<-500&&(this.currSlm=null))},e.prototype.play=function(){this.babala.getComponent("Babala").play(),this.currSlm&&this.currSlm.destroy(),this.newSlm()},c([p(cc.Node)],e.prototype,"bg1",void 0),c([p(cc.Node)],e.prototype,"bg2",void 0),c([p(cc.Node)],e.prototype,"babala",void 0),c([p(cc.Prefab)],e.prototype,"slm",void 0),c([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Score:[function(t,e,o){"use strict";cc._RF.push(e,"48578FzKe9Nh47nPEeAgIIE","Score");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,p=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},c([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{}],Slm:[function(t,e,o){"use strict";cc._RF.push(e,"e31bfXrmEpMPp7fmD2st/Pp","Slm");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,p=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pickRadius=0,e.game=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(){this.collision()<this.pickRadius?this.game.babala.getComponent("Babala").stopMove():this.node.x<-500&&this.newSlm()},e.prototype.newSlm=function(){this.node.destroy(),this.game.newSlm()},e.prototype.collision=function(){var t=this.game.babala.getPosition();return this.node.position.sub(t).mag()},c([p()],e.prototype,"pickRadius",void 0),c([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["Babala","Game","Score","Slm"]);